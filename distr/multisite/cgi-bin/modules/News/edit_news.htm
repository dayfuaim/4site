<form method="post" name="period" action="<!--#include virtual="cgi_ref"-->/4site.pl">
<table border="0" cellpadding="0" cellspacing="0">
<tr><td>

<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="9" class="news-green" height="3"><img src="/img/1pix.gif" border="0" height="3"></td></tr>
<tr class="news-green">
<td width="10"><img src="/img/1pix.gif" border="0" width="10"></td>
<td class="tl">с</td>
<td class="tal"><!--#include virtual="stdate_find"--></td>
<td class="tl">&nbsp;</td>
<td class="tl">по</td>
<td class="tal"><!--#include virtual="enddate_find"--></td>
<td width="10"><img src="/img/1pix.gif" border="0" width="10"></td>
</tr>
</table>

</td></tr>
<tr><td class="libo">либо</td></tr>
<tr class="news-green"><td>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="8" class="news-green" height="3"><img src="/img/1pix.gif" border="0" height="3"></td></tr>
<tr><td width="10"><img src="/img/1pix.gif" border="0" width="10"></td>
<td class="tl">за&nbsp;период&nbsp;</td>
<td><select name="lag"><!--#include virtual="lag_downlist_sel"--></select></td></tr>
<tr><td colspan="7" class="news-green" height="3"><img src="/img/1pix.gif" border="0" height="3"></td></tr>
</table>

</td></tr>
<tr><td height="13"><img src="/img/1pix.gif" border="0" height="13"></td></tr>
<tr><td align="right"><input type="Image" src="/img/but/find1.gif" title="Найти" class="but" onmouseover="b_hilite(this)" onmouseout="b_unlite(this)"></table>

<input type="hidden" name="returnact" value="edit_news">
<input type="hidden" name="show" value="1">
<!--#include virtual="logpass"--></form>

<link rel="stylesheet" type="text/css" href="/js/ext/resources/css/ext-all.css" />
<script type="text/javascript" src="/js/ext/build/locale/ext-lang-ru_cp1251.js"></script>
<script type="text/javascript" language="JavaScript">
function check_news(frm) {
	var ff = eval('document.forms.'+frm)
	if (ff.head_fld.value.length<3) {
		alert("Слишком короткий заголовок!\n(длина меньше 3 символов)");
		return false
	}
	if (ff.body_fld.value.length<3) {
		alert("Слишком короткое тело новости!\n(длина меньше 3 символов)");
		return false
	}
	return true
}

function countSym(fldName) {
	var d = document
	var ff = d.forms['period']
	var fld = ff.elements[fldName]
	d.getElementById('_count').innerText = fld.value.length
}

function subm(act,retact,nid) {
	alert('act: '+act)
	var ff = document.forms['edit_news']
	ff.act.value = act
	ff.returnact.value = retact
	ff.news.value = nid
	ff.submit()
}


function newsSub() {
	var e = arguments[0]
	var id = arguments[1]
	var ff = document.forms['edit_news']
	if (ff.act) ff.act.value = arguments[2];
	if (arguments[2]) {
		if (!confirm('Вы действительно хотите удалить новость?')) {
			e.stopEvent()
			return false
		}
	}
	ff.returnact.value = arguments[3]
	ff.news.value = arguments[4];
	if (id) e.stopEvent();
	ff.submit()
}

var Controls = {
    init : function(){
 		var DT = new Ext.form.DateField({
			applyTo: '_stdate',
			name: 'stdate',
			width: 100,
			format: 'd.m.Y',
			allowBlank: true
		})
 		var DT1 = new Ext.form.DateField({
			applyTo: '_enddate',
			name: 'enddate',
			width: 100,
			format: 'd.m.Y',
			allowBlank: true
		})
	}
};

Ext.onReady(InitCtrls,Controls,true);

function InitCtrls() {
	Controls.init()
}
</script>

<form method="post" action="<!--#include virtual="cgi_ref"-->/4site.pl" name="edit_news">
<!--#include virtual="news_list"-->
<!--#include virtual="stdate_hidden"-->
<!--#include virtual="enddate_hidden"-->
<!--#include virtual="lag_hidden"-->
<input type="hidden" name="returnact" value="open_news">
<!--#include virtual="logpass"-->
</form>
